gen state=""
replace state="AL" if statename=="Alabama"
replace state="AK" if statename=="Alaska"
replace state="AZ" if statename=="Arizona"
replace state="AR" if statename=="Arkansas"
replace state="CA" if statename=="California"
replace state="CO" if statename=="Colorado"
replace state="CT" if statename=="Connecticut"
replace state="DE" if statename=="Delaware"
replace state="DC" if statename=="District of Columbia"
replace state="FL" if statename=="Florida"
replace state="GA" if statename=="Georgia"
replace state="HI" if statename=="Hawaii"
replace state="ID" if statename=="Idaho"
replace state="IL" if statename=="Illinois"
replace state="IN" if statename=="Indiana"
replace state="IA" if statename=="Iowa"
replace state="KS" if statename=="Kansas"
replace state="KY" if statename=="Kentucky"
replace state="LA" if statename=="Louisiana"
replace state="ME" if statename=="Maine"
replace state="MD" if statename=="Maryland"
replace state="MA" if statename=="Massachusetts"
replace state="MI" if statename=="Michigan"
replace state="MN" if statename=="Minnesota"
replace state="MS" if statename=="Mississippi"
replace state="MO" if statename=="Missouri"
replace state="MT" if statename=="Montana"
replace state="NE" if statename=="Nebraska"
replace state="NV" if statename=="Nevada"
replace state="NH" if statename=="New Hampshire"
replace state="NJ" if statename=="New Jersey"
replace state="NM" if statename=="New Mexico"
replace state="NY" if statename=="New York"
replace state="NC" if statename=="North Carolina"
replace state="ND" if statename=="North Dakota"
replace state="OH" if statename=="Ohio"
replace state="OK" if statename=="Oklahoma"
replace state="OR" if statename=="Oregon"
replace state="PA" if statename=="Pennsylvania"
replace state="RI" if statename=="Rhode Island"
replace state="SC" if statename=="South Carolina"
replace state="SD" if statename=="South Dakota"
replace state="TN" if statename=="Tennessee"
replace state="TX" if statename=="Texas"
replace state="UT" if statename=="Utah"
replace state="VT" if statename=="Vermont"
replace state="VA" if statename=="Virginia"
replace state="WA" if statename=="Washington"
replace state="WV" if statename=="West Virginia"
replace state="WI" if statename=="Wisconsin"
replace state="WY" if statename=="Wyoming"
replace state="GU" if statename=="Guam"
replace state="PR" if statename=="Puerto Rico"
replace state="VI" if statename=="Virgin Islands of the U.S."

gen statefips=""
replace statefips="1"  if statefips=="Alabama"
replace statefips="2"  if statefips=="Alaska"
replace statefips="4"  if statefips=="Arizona"
replace statefips="5"  if statefips=="Arkansas"
replace statefips="6"  if statefips=="California"
replace statefips="8"  if statefips=="Colorado"
replace statefips="9"  if statefips=="Connecticut"
replace statefips="10" if statefips=="Delaware"
replace statefips="11" if statefips=="District of Columbia"
replace statefips="12" if statefips=="Florida"
replace statefips="13" if statefips=="Georgia"
replace statefips="15" if statefips=="Hawaii"
replace statefips="16" if statefips=="Idaho"
replace statefips="17" if statefips=="Illinois"
replace statefips="18" if statefips=="Indiana"
replace statefips="19" if statefips=="Iowa"
replace statefips="20" if statefips=="Kansas"
replace statefips="21" if statefips=="Kentucky"
replace statefips="22" if statefips=="Louisiana"
replace statefips="23" if statefips=="Maine"
replace statefips="24" if statefips=="Maryland"
replace statefips="25" if statefips=="Massachusetts"
replace statefips="26" if statefips=="Michigan"
replace statefips="27" if statefips=="Minnesota"
replace statefips="28" if statefips=="Mississippi"
replace statefips="29" if statefips=="Missouri"
replace statefips="30" if statefips=="Montana"
replace statefips="31" if statefips=="Nebraska"
replace statefips="32" if statefips=="Nevada"
replace statefips="33" if statefips=="New Hampshire"
replace statefips="34" if statefips=="New Jersey"
replace statefips="35" if statefips=="New Mexico"
replace statefips="36" if statefips=="New York"
replace statefips="37" if statefips=="North Carolina"
replace statefips="38" if statefips=="North Dakota"
replace statefips="39" if statefips=="Ohio"
replace statefips="40" if statefips=="Oklahoma"
replace statefips="41" if statefips=="Oregon"
replace statefips="42" if statefips=="Pennsylvania"
replace statefips="44" if statefips=="Rhode Island"
replace statefips="45" if statefips=="South Carolina"
replace statefips="46" if statefips=="South Dakota"
replace statefips="47" if statefips=="Tennessee"
replace statefips="48" if statefips=="Texas"
replace statefips="49" if statefips=="Utah"
replace statefips="50" if statefips=="Vermont"
replace statefips="51" if statefips=="Virginia"
replace statefips="53" if statefips=="Washington"
replace statefips="54" if statefips=="West Virginia"
replace statefips="55" if statefips=="Wisconsin"
replace statefips="56" if statefips=="Wyoming"
replace statefips="66" if statename=="Guam"
replace statefips="43" if statename=="Puerto Rico"
replace statefips="78" if statename=="Virgin Islands of the U.S."
destring statefips, replace
compress
