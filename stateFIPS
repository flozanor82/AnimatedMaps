gen state=""
replace state="AL" if statename=="Alabama"
replace state="AK" if statename=="Alaska"
replace state="AZ" if statename=="Arizona"
replace state="AR" if statename=="Arkansas"
replace state="CA" if statename=="California"
replace state="CO" if statename=="Colorado"
replace state="CT" if statename=="Connecticut"
replace state="DE" if statename=="Delaware"
replace state="DC" if statename=="District of Columbia"
replace state="FL" if statename=="Florida"
replace state="GA" if statename=="Georgia"
replace state="HI" if statename=="Hawaii"
replace state="ID" if statename=="Idaho"
replace state="IL" if statename=="Illinois"
replace state="IN" if statename=="Indiana"
replace state="IA" if statename=="Iowa"
replace state="KS" if statename=="Kansas"
replace state="KY" if statename=="Kentucky"
replace state="LA" if statename=="Louisiana"
replace state="ME" if statename=="Maine"
replace state="MD" if statename=="Maryland"
replace state="MA" if statename=="Massachusetts"
replace state="MI" if statename=="Michigan"
replace state="MN" if statename=="Minnesota"
replace state="MS" if statename=="Mississippi"
replace state="MO" if statename=="Missouri"
replace state="MT" if statename=="Montana"
replace state="NE" if statename=="Nebraska"
replace state="NV" if statename=="Nevada"
replace state="NH" if statename=="New Hampshire"
replace state="NJ" if statename=="New Jersey"
replace state="NM" if statename=="New Mexico"
replace state="NY" if statename=="New York"
replace state="NC" if statename=="North Carolina"
replace state="ND" if statename=="North Dakota"
replace state="OH" if statename=="Ohio"
replace state="OK" if statename=="Oklahoma"
replace state="OR" if statename=="Oregon"
replace state="PA" if statename=="Pennsylvania"
replace state="RI" if statename=="Rhode Island"
replace state="SC" if statename=="South Carolina"
replace state="SD" if statename=="South Dakota"
replace state="TN" if statename=="Tennessee"
replace state="TX" if statename=="Texas"
replace state="UT" if statename=="Utah"
replace state="VT" if statename=="Vermont"
replace state="VA" if statename=="Virginia"
replace state="WA" if statename=="Washington"
replace state="WV" if statename=="West Virginia"
replace state="WI" if statename=="Wisconsin"
replace state="WY" if statename=="Wyoming"
replace state="GU" if statename=="Guam"
replace state="PR" if statename=="Puerto Rico"
replace state="VI" if statename=="Virgin Islands of the U.S."

gen statefips=""
replace statefips="1"  if statename=="Alabama"
replace statefips="2"  if statename=="Alaska"
replace statefips="4"  if statename=="Arizona"
replace statefips="5"  if statename=="Arkansas"
replace statefips="6"  if statename=="California"
replace statefips="8"  if statename=="Colorado"
replace statefips="9"  if statename=="Connecticut"
replace statefips="10" if statename=="Delaware"
replace statefips="11" if statename=="District of Columbia"
replace statefips="12" if statename=="Florida"
replace statefips="13" if statename=="Georgia"
replace statefips="15" if statename=="Hawaii"
replace statefips="16" if statename=="Idaho"
replace statefips="17" if statename=="Illinois"
replace statefips="18" if statename=="Indiana"
replace statefips="19" if statename=="Iowa"
replace statefips="20" if statename=="Kansas"
replace statefips="21" if statename=="Kentucky"
replace statefips="22" if statename=="Louisiana"
replace statefips="23" if statename=="Maine"
replace statefips="24" if statename=="Maryland"
replace statefips="25" if statename=="Massachusetts"
replace statefips="26" if statename=="Michigan"
replace statefips="27" if statename=="Minnesota"
replace statefips="28" if statename=="Mississippi"
replace statefips="29" if statename=="Missouri"
replace statefips="30" if statename=="Montana"
replace statefips="31" if statename=="Nebraska"
replace statefips="32" if statename=="Nevada"
replace statefips="33" if statename=="New Hampshire"
replace statefips="34" if statename=="New Jersey"
replace statefips="35" if statename=="New Mexico"
replace statefips="36" if statename=="New York"
replace statefips="37" if statename=="North Carolina"
replace statefips="38" if statename=="North Dakota"
replace statefips="39" if statename=="Ohio"
replace statefips="40" if statename=="Oklahoma"
replace statefips="41" if statename=="Oregon"
replace statefips="42" if statename=="Pennsylvania"
replace statefips="44" if statename=="RhodeIsland"
replace statefips="45" if statename=="South Carolina"
replace statefips="46" if statename=="South Dakota"
replace statefips="47" if statename=="Tennessee"
replace statefips="48" if statename=="Texas"
replace statefips="49" if statename=="Utah"
replace statefips="50" if statename=="Vermont"
replace statefips="51" if statename=="Virginia"
replace statefips="53" if statename=="Washington"
replace statefips="54" if statename=="WestVirginia"
replace statefips="55" if statename=="Wisconsin"
replace statefips="56" if statename=="Wyoming"
replace statefips="66" if statename=="Guam"
replace statefips="43" if statename=="Puerto Rico"
replace statefips="78" if statename=="Virgin Islands of the U.S."
destring statefips, replace
compress
